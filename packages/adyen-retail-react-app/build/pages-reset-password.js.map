{"version":3,"file":"pages-reset-password.js","mappings":"oVA6BA,MAAMA,EAAgBA,KAClB,MAAMC,GAAOC,EAAAA,EAAAA,MACPC,GAAWC,EAAAA,EAAAA,YACVC,EAAgBC,IAAqBC,EAAAA,EAAAA,UAAS,KAC9CC,EAAsBC,IAA2BF,EAAAA,EAAAA,WAAS,GAC3DG,GAAWC,EAAAA,EAAAA,MACX,SAACC,IAAYC,EAAAA,EAAAA,MACbC,GAAwBC,EAAAA,EAAAA,6BAC1BC,EAAAA,0BAA0BC,uBAGxBC,EAAU,eAAAC,GAAAC,EAAAA,EAAAA,IAAG,WAAO,MAACC,IACvB,MAAMC,EAAO,CACTC,MAAOF,GAEX,UACUP,EAAsBU,YAAY,CAACF,SACzChB,EAAkBe,GAClBZ,GAAyBD,EAC7B,CAAE,MAAOiB,GACLxB,EAAKyB,SAAS,SAAU,CAACC,KAAM,SAAUC,QAASH,EAAMG,SAC5D,CACJ,IAAC,gBAXeC,GAAA,OAAAV,EAAAW,MAAA,KAAAC,UAAA,KAkBhB,OAJAC,EAAAA,EAAAA,YAAU,KACNtB,EAASuB,aAAarB,EAAS,GAChC,IAGCsB,EAAAA,cAACC,EAAAA,GAAG,CAAC,cAAY,sBAAsBC,GAAG,UAAUC,GAAI,CAAC,EAAG,KACxDH,EAAAA,cAACI,EAAAA,EAAG,CAACC,MAAM,iBAAiBC,YAAY,4BACxCN,EAAAA,cAACO,EAAAA,EAAS,CACNC,WAAY,GACZC,MAAO,CAAC,OAAQ,SAChBP,GAAG,QACHQ,cAAe,GACfC,UAAW,EACXC,aAAc,EACdC,aAAa,QAEXvC,EAOE0B,EAAAA,cAACc,EAAAA,EAAK,CAACC,QAAQ,SAASC,MAAM,SAASC,QAAS,GAC5CjB,EAAAA,cAACkB,EAAAA,GAAS,CAACT,MAAM,OAAOU,OAAO,SAC/BnB,EAAAA,cAACoB,EAAAA,EAAI,CAACJ,MAAM,SAASK,SAAS,MAC1BrB,EAAAA,cAACsB,EAAAA,EAAgB,CACbC,eAAc,kCACdC,GAAE,yCAGVxB,EAAAA,cAACc,EAAAA,EAAK,CAACG,QAAS,EAAGQ,GAAI,GACnBzB,EAAAA,cAACoB,EAAAA,EAAI,CAACJ,MAAM,SAASK,SAAS,MAC1BrB,EAAAA,cAACsB,EAAAA,EAAgB,CACbC,eAAc,oKACdC,GAAE,4CACFE,OAAQ,CACJvC,MAAOhB,EAEPwD,EAAIC,GAAW5B,EAAAA,cAAA,SAAI4B,OAI/B5B,EAAAA,cAAC6B,EAAAA,EAAM,CAACC,QAASA,IAAM7D,EAAS,WAC5B+B,EAAAA,cAACsB,EAAAA,EAAgB,CACbC,eAAc,mCACdC,GAAE,6CA7BlBxB,EAAAA,cAAC+B,EAAAA,EAAiB,CACdhE,KAAMA,EACNiB,WAAYA,EACZgD,YAAaA,IAAM/D,EAAS,aAiCtC,EAIdH,EAAcmE,gBAAkB,IAAM,iBAEtCnE,EAAcoE,UAAY,CACtBC,MAAOC,IAAAA,QAGX,S","sources":["webpack://adyen-retail-react-app/./node_modules/@salesforce/retail-react-app/app/pages/reset-password/index.jsx"],"sourcesContent":["/*\n * Copyright (c) 2021, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\nimport React, {useState, useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport {FormattedMessage} from 'react-intl'\nimport {\n    Box,\n    Button,\n    Container,\n    Stack,\n    Text\n} from '@salesforce/retail-react-app/app/components/shared/ui'\nimport {useForm} from 'react-hook-form'\nimport {\n    useShopperCustomersMutation,\n    ShopperCustomersMutations\n} from '@salesforce/commerce-sdk-react'\nimport Seo from '@salesforce/retail-react-app/app/components/seo'\nimport ResetPasswordForm from '@salesforce/retail-react-app/app/components/reset-password'\nimport {BrandLogo} from '@salesforce/retail-react-app/app/components/icons'\nimport useNavigation from '@salesforce/retail-react-app/app/hooks/use-navigation'\nimport useEinstein from '@salesforce/retail-react-app/app/hooks/use-einstein'\nimport {useLocation} from 'react-router-dom'\n\nconst ResetPassword = () => {\n    const form = useForm()\n    const navigate = useNavigation()\n    const [submittedEmail, setSubmittedEmail] = useState('')\n    const [showSubmittedSuccess, setShowSubmittedSuccess] = useState(false)\n    const einstein = useEinstein()\n    const {pathname} = useLocation()\n    const getResetPasswordToken = useShopperCustomersMutation(\n        ShopperCustomersMutations.GetResetPasswordToken\n    )\n\n    const submitForm = async ({email}) => {\n        const body = {\n            login: email\n        }\n        try {\n            await getResetPasswordToken.mutateAsync({body})\n            setSubmittedEmail(email)\n            setShowSubmittedSuccess(!showSubmittedSuccess)\n        } catch (error) {\n            form.setError('global', {type: 'manual', message: error.message})\n        }\n    }\n\n    /**************** Einstein ****************/\n    useEffect(() => {\n        einstein.sendViewPage(pathname)\n    }, [])\n\n    return (\n        <Box data-testid=\"reset-password-page\" bg=\"gray.50\" py={[8, 16]}>\n            <Seo title=\"Reset password\" description=\"Reset customer password\" />\n            <Container\n                paddingTop={16}\n                width={['100%', '407px']}\n                bg=\"white\"\n                paddingBottom={14}\n                marginTop={8}\n                marginBottom={8}\n                borderRadius=\"base\"\n            >\n                {!showSubmittedSuccess ? (\n                    <ResetPasswordForm\n                        form={form}\n                        submitForm={submitForm}\n                        clickSignIn={() => navigate('/login')}\n                    />\n                ) : (\n                    <Stack justify=\"center\" align=\"center\" spacing={6}>\n                        <BrandLogo width=\"60px\" height=\"auto\" />\n                        <Text align=\"center\" fontSize=\"md\">\n                            <FormattedMessage\n                                defaultMessage={'Password Reset'}\n                                id=\"reset_password.title.password_reset\"\n                            />\n                        </Text>\n                        <Stack spacing={6} pt={4}>\n                            <Text align=\"center\" fontSize=\"sm\">\n                                <FormattedMessage\n                                    defaultMessage=\"You will receive an email at <b>{email}</b> with a link to reset your password shortly.\"\n                                    id=\"reset_password.info.receive_email_shortly\"\n                                    values={{\n                                        email: submittedEmail,\n\n                                        b: (chunks) => <b>{chunks}</b>\n                                    }}\n                                />\n                            </Text>\n                            <Button onClick={() => navigate('/login')}>\n                                <FormattedMessage\n                                    defaultMessage=\"Back to Sign In\"\n                                    id=\"reset_password.button.back_to_sign_in\"\n                                />\n                            </Button>\n                        </Stack>\n                    </Stack>\n                )}\n            </Container>\n        </Box>\n    )\n}\n\nResetPassword.getTemplateName = () => 'reset-password'\n\nResetPassword.propTypes = {\n    match: PropTypes.object\n}\n\nexport default ResetPassword\n"],"names":["ResetPassword","form","useForm","navigate","useNavigation","submittedEmail","setSubmittedEmail","useState","showSubmittedSuccess","setShowSubmittedSuccess","einstein","useEinstein","pathname","useLocation","getResetPasswordToken","useShopperCustomersMutation","ShopperCustomersMutations","GetResetPasswordToken","submitForm","_ref","_asyncToGenerator","email","body","login","mutateAsync","error","setError","type","message","_x","apply","arguments","useEffect","sendViewPage","React","Box","bg","py","Seo","title","description","Container","paddingTop","width","paddingBottom","marginTop","marginBottom","borderRadius","Stack","justify","align","spacing","BrandLogo","height","Text","fontSize","FormattedMessage","defaultMessage","id","pt","values","b","chunks","Button","onClick","ResetPasswordForm","clickSignIn","getTemplateName","propTypes","match","PropTypes"],"sourceRoot":""}